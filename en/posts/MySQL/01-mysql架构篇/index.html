<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ZhouJz&#39;s blog</title>
<meta name="keywords" content="">
<meta name="description" content="1. Linux环境安装MySQL 略&hellip; 2. MySQL数据目录 举例：数据库A，表a 如果表a采用InnoDB，data\A中会产生一个或两个文件 a.frm(5.7特有)：描述表结构，字段长度等 如果采用系统表空间模式，数据信息和索引信息储存在ibdata1中 如果采用独立表空间模">
<meta name="author" content="ZhouJze">
<link rel="canonical" href="https://zhoujze.github.io/en/posts/mysql/01-mysql%E6%9E%B6%E6%9E%84%E7%AF%87/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1d3401cbcdd2f10bdb5198bcf67bd24686c4792045e0991c052459ef4196f5cf.css" integrity="" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
        onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://zhoujze.github.io/img/Q.jpg">
<link rel="icon" type="image/png" sizes="16x16" href="https://zhoujze.github.io/img/Q.jpg">
<link rel="icon" type="image/png" sizes="32x32" href="https://zhoujze.github.io/img/Q.jpg">
<link rel="apple-touch-icon" href="https://zhoujze.github.io/Q.jpg">
<link rel="mask-icon" href="https://zhoujze.github.io/Q.jpg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js"></script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta property="og:title" content="" />
<meta property="og:description" content="1. Linux环境安装MySQL 略&hellip; 2. MySQL数据目录 举例：数据库A，表a 如果表a采用InnoDB，data\A中会产生一个或两个文件 a.frm(5.7特有)：描述表结构，字段长度等 如果采用系统表空间模式，数据信息和索引信息储存在ibdata1中 如果采用独立表空间模" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zhoujze.github.io/en/posts/mysql/01-mysql%E6%9E%B6%E6%9E%84%E7%AF%87/" /><meta property="article:section" content="posts" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="1. Linux环境安装MySQL 略&hellip; 2. MySQL数据目录 举例：数据库A，表a 如果表a采用InnoDB，data\A中会产生一个或两个文件 a.frm(5.7特有)：描述表结构，字段长度等 如果采用系统表空间模式，数据信息和索引信息储存在ibdata1中 如果采用独立表空间模"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [

        {
          "@type": "ListItem",
          "position":  1 ,
          "name": "📚文章",
          "item": "https://zhoujze.github.io/en/posts/"
        }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "",
      "item": "https://zhoujze.github.io/en/posts/mysql/01-mysql%E6%9E%B6%E6%9E%84%E7%AF%87/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "",
  "name": "",
  "description": "1. Linux环境安装MySQL 略\u0026hellip; 2. MySQL数据目录 举例：数据库A，表a 如果表a采用InnoDB，data\\A中会产生一个或两个文件 a.frm(5.7特有)：描述表结构，字段长度等 如果采用系统表空间模式，数据信息和索引信息储存在ibdata1中 如果采用独立表空间模",
  "keywords": [
    
  ],
  "articleBody": "1. Linux环境安装MySQL 略…\n2. MySQL数据目录 举例：数据库A，表a\n如果表a采用InnoDB，data\\A中会产生一个或两个文件 a.frm(5.7特有)：描述表结构，字段长度等 如果采用系统表空间模式，数据信息和索引信息储存在ibdata1中 如果采用独立表空间模式，data\\A中会产生a.ibd文件，储存数据信息和索引信息。 此外：\nMySQL5.7会在data\\A目录下生成db.opt用于保存数据库相关配置，如字符集、比较规则，而MySQL8.0不再提供。 MySQL不再单独提供a.frm文件，而是合并在a.ibd中 如果表a采用MyISAM，data\\A中会产生3个文件 MySQL5.7中，a.frm：描述表结构，字段长度等\nMySQL8.0中，a.XXX.sdi：描述表结构，字段长度等 a.MYD（MyData）：数据文件信息，储存数据信息（采用独立表存储模式） a.MYI（MyIndex）：存放索引信息文件 3. 用户与权限管理 1. 用户管理 MySQL分为普通用户和root用户。\n提供了许多语句来管理用户账号。\nMySQL数据库的安全性需要通过用户管理实现。\n1.1 登录用户 1.2 创建用户 1.3 修改用户 1.3 修改用户 1.4 删除用户 1.5 设置密码 权限管理 表权限 列权限 过程权限 权限授予原则 满足需求的最小权限 限制登录主机 设置密码 定期清理不需要的用户 授予权限 MySQL如何实现权限控制\n权限表 4. 逻辑架构 1. 逻辑架构 1.1 服务器处理客户端请求 Mysql是典型的C/S架构，Clinet/Server 架构，服务端使用的是mysqld。\n实现效果：客户端向服务端发送sql语句，服务端进程处理后向客户端返回处理结果。\n具体展开图:\n1.2 Connectors 连接器 1.3 第一层：连接层 1.4 第二层：服务层 1.5 第三层：引擎层 1.6 存储层 2. SQL执行流程 2.1 MySQL 中的SQL执行流程 查询缓存 8.0 舍弃，缓存命中率很低，需要sql完全一样才能命中，如空格等，也不行 对数据库进行增删改查的时候，存在缓存失效问题，需要从缓存中删除，更新压力大\n解析器 词法分析 语法分析 生成语法树 优化器\n在优化器中会确定 SQL 语句的执行路径，比如是根据全表检索 ，还是根据索引检索等 物理查询优化：索引表连接优化 逻辑查询优化：语法逻辑优化 生成执行计划 执行器\n执行器执行 执行计划 3. 数据库缓冲池(buffer pool) 内存级别的缓存，占用内存作为数据缓冲池\n3.1 缓冲池 vs 查询缓存 缓冲池和查询缓存是一个东西吗？不是。\n3.2 缓冲池 缓存原则 位置 * 频次原则\n优先对使用频次高的热数据进行加载\n3.3 缓冲池如何读取数据 重点回顾 5. 存储引擎 简而言之，存储引擎就是表的类型。它的功能：接收上层传下来的指令，然后对表中的数据进行提取或写入操作。\n查看存储引擎 命令：show engines; 引擎介绍 InnoDB引擎 MySQL 5.5 以后默认采用 优点： 具备外键支持功能的事务存储引擎 事务性引擎，确保事务的完整提交和回滚 除了增加和查询外，还要更新、删除操作，优先InnoDB 支持行级锁，只对单条数据加锁而不是整张表 缺点： 写的效率较差 对内存要求较高：.ibd文件索引即数据需全部加载，MyISAM索引和数据分开，只要加载索引。 MyISAM引擎 不支持事务：崩溃后无法安全恢复 不支持外键 不支持行级锁 优点 访问速度快 针对数据统计有常数存储 区别 外键 事务 行级锁 缓存 自带系统表使用 关注点 性能：节省资源、消耗少、简单业务 事务：并发写、事务、更大资源 默认安装 默认使用 Archive引擎：用于数据存档 仅支持插入和查询，无法修改删除 MySQL 5.5 以后支持索引 拥有很好的压缩机制，使用zlib压缩库 采用行级锁 适合日志和数据采集（归档）类应用 Blackhole引擎：丢弃写操作，读操作返回空内容 CSV引擎：存储数据，以逗号分隔各个数据项 Memory 引擎：置于内存中的表 媒介时内存，响应速度快，但是mysql守护进程崩溃时数据会丢失\n特征：\n同时支持哈希索引和B+索引 ",
  "wordCount" : "1549",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "ZhouJze"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://zhoujze.github.io/en/posts/mysql/01-mysql%E6%9E%B6%E6%9E%84%E7%AF%87/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "ZhouJz's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://zhoujze.github.io/img/Q.jpg"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    (function () {
        let  arr,reg = new RegExp("(^| )"+"change-themes"+"=([^;]*)(;|$)");
        if(arr = document.cookie.match(reg)) {
        } else {
            if (new Date().getHours() >= 19 || new Date().getHours() < 6) {
                document.body.classList.add('dark');
                localStorage.setItem("pref-theme", 'dark');
            } else {
                document.body.classList.remove('dark');
                localStorage.setItem("pref-theme", 'light');
            }
        }
    })()

    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://zhoujze.github.io/en/" accesskey="h" title="ZhouJze&#39;s Blog (Alt + H)">
            <img src="https://zhoujze.github.io/img/Q.jpg" alt="logo" aria-label="logo"
                 height="35">ZhouJze&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://zhoujze.github.io/en/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://zhoujze.github.io/en/" title="🏠主页">
                <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://zhoujze.github.io/en/archives/" title="⏱时间轴">
                <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://zhoujze.github.io/en/tags" title="🔖标签">
                <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://zhoujze.github.io/en/about" title="🙋🏻‍♂️关于">
                <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }
</style>

<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            <div class="breadcrumbs"><a href="https://zhoujze.github.io/en/">🏠 主页</a>&nbsp;»&nbsp;<a href="https://zhoujze.github.io/en/posts/">📚文章</a></div>
            <h1 class="post-title">
                
            </h1>
            <div class="post-meta">

<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>0001-01-01
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>1549字
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>4分钟
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>ZhouJze
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
        </span>
    </span>
</span>
<span style="opacity: 0.8;">
                    <span id="post_meta_style_7">
                        &nbsp;&nbsp;
                        <span class="fa fa-eye" ></span>
                        <span>
                            <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
                            &nbsp;&nbsp;
                        </span>
                    </span>
                    <span id="post_meta_style_8">
                        <span class="fa fa-commenting-o"></span>
                        <span>
                            <script src="https://cdn.staticfile.org/twikoo/1.4.11/twikoo.all.min.js"></script>
                            <script>
                                let url = document.documentURI
                                
                                let dnsUrl = "https://zhoujze.github.io/"
                                let urlSplit = url.split(dnsUrl)
                                let finalUrl = urlSplit[1]
                                if (finalUrl[0] !== '/') {
                                    finalUrl = '/'+finalUrl
                                }
                                twikoo.getCommentsCount({
                                    envId:  null , 
                                region:  null , 
                                urls: [ 
                                    
                                    finalUrl,
                                ],
                                    includeReply: false 
                                }).then(function (res) {
                                    let count = res[0].count
                                    const obj = document.getElementById("comment_count");
                                    obj.innerText = count
                                    
                                    
                                    
                                }).catch(function (err) {
                                    
                                    console.error(err);
                                });
                            </script>
                            <span id="comment_count"></span>
                        </span>
                    </span>
                </span>

</div>
        </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">文章目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-linux%e7%8e%af%e5%a2%83%e5%ae%89%e8%a3%85mysql" aria-label="1. Linux环境安装MySQL">1. Linux环境安装MySQL</a></li>
                <li>
                    <a href="#2-mysql%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95" aria-label="2. MySQL数据目录">2. MySQL数据目录</a></li>
                <li>
                    <a href="#3-%e7%94%a8%e6%88%b7%e4%b8%8e%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86" aria-label="3. 用户与权限管理">3. 用户与权限管理</a><ul>
                        
                <li>
                    <a href="#1-%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86" aria-label="1. 用户管理">1. 用户管理</a><ul>
                        
                <li>
                    <a href="#11-%e7%99%bb%e5%bd%95%e7%94%a8%e6%88%b7" aria-label="1.1 登录用户">1.1 登录用户</a></li>
                <li>
                    <a href="#12-%e5%88%9b%e5%bb%ba%e7%94%a8%e6%88%b7" aria-label="1.2 创建用户">1.2 创建用户</a></li>
                <li>
                    <a href="#13-%e4%bf%ae%e6%94%b9%e7%94%a8%e6%88%b7" aria-label="1.3 修改用户">1.3 修改用户</a></li>
                <li>
                    <a href="#13-%e4%bf%ae%e6%94%b9%e7%94%a8%e6%88%b7-1" aria-label="1.3 修改用户">1.3 修改用户</a></li>
                <li>
                    <a href="#14-%e5%88%a0%e9%99%a4%e7%94%a8%e6%88%b7" aria-label="1.4 删除用户">1.4 删除用户</a></li>
                <li>
                    <a href="#15-%e8%ae%be%e7%bd%ae%e5%af%86%e7%a0%81" aria-label="1.5 设置密码">1.5 设置密码</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86" aria-label="权限管理">权限管理</a><ul>
                        
                <li>
                    <a href="#%e6%9d%83%e9%99%90%e6%8e%88%e4%ba%88%e5%8e%9f%e5%88%99" aria-label="权限授予原则">权限授予原则</a></li>
                <li>
                    <a href="#%e6%8e%88%e4%ba%88%e6%9d%83%e9%99%90" aria-label="授予权限">授予权限</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#4-%e9%80%bb%e8%be%91%e6%9e%b6%e6%9e%84" aria-label="4. 逻辑架构">4. 逻辑架构</a><ul>
                        
                <li>
                    <a href="#1-%e9%80%bb%e8%be%91%e6%9e%b6%e6%9e%84" aria-label="1. 逻辑架构">1. 逻辑架构</a><ul>
                        
                <li>
                    <a href="#11-%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%a4%84%e7%90%86%e5%ae%a2%e6%88%b7%e7%ab%af%e8%af%b7%e6%b1%82" aria-label="1.1 服务器处理客户端请求">1.1 服务器处理客户端请求</a></li>
                <li>
                    <a href="#12-connectors-%e8%bf%9e%e6%8e%a5%e5%99%a8" aria-label="1.2 Connectors 连接器">1.2 Connectors 连接器</a></li>
                <li>
                    <a href="#13-%e7%ac%ac%e4%b8%80%e5%b1%82%e8%bf%9e%e6%8e%a5%e5%b1%82" aria-label="1.3 第一层：连接层">1.3 第一层：连接层</a></li>
                <li>
                    <a href="#14-%e7%ac%ac%e4%ba%8c%e5%b1%82%e6%9c%8d%e5%8a%a1%e5%b1%82" aria-label="1.4 第二层：服务层">1.4 第二层：服务层</a></li>
                <li>
                    <a href="#15-%e7%ac%ac%e4%b8%89%e5%b1%82%e5%bc%95%e6%93%8e%e5%b1%82" aria-label="1.5 第三层：引擎层">1.5 第三层：引擎层</a></li>
                <li>
                    <a href="#16-%e5%ad%98%e5%82%a8%e5%b1%82" aria-label="1.6 存储层">1.6 存储层</a></li></ul>
                </li>
                <li>
                    <a href="#2-sql%e6%89%a7%e8%a1%8c%e6%b5%81%e7%a8%8b" aria-label="2. SQL执行流程">2. SQL执行流程</a><ul>
                        
                <li>
                    <a href="#21-mysql-%e4%b8%ad%e7%9a%84sql%e6%89%a7%e8%a1%8c%e6%b5%81%e7%a8%8b" aria-label="2.1 MySQL 中的SQL执行流程">2.1 MySQL 中的SQL执行流程</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e6%95%b0%e6%8d%ae%e5%ba%93%e7%bc%93%e5%86%b2%e6%b1%a0buffer-pool" aria-label="3. 数据库缓冲池(buffer pool)">3. 数据库缓冲池(buffer pool)</a><ul>
                        
                <li>
                    <a href="#31-%e7%bc%93%e5%86%b2%e6%b1%a0-vs-%e6%9f%a5%e8%af%a2%e7%bc%93%e5%ad%98" aria-label="3.1 缓冲池 vs 查询缓存">3.1 缓冲池 vs 查询缓存</a></li>
                <li>
                    <a href="#32-%e7%bc%93%e5%86%b2%e6%b1%a0" aria-label="3.2 缓冲池">3.2 缓冲池</a><ul>
                        
                <li>
                    <a href="#%e7%bc%93%e5%ad%98%e5%8e%9f%e5%88%99" aria-label="缓存原则">缓存原则</a></li></ul>
                </li>
                <li>
                    <a href="#33-%e7%bc%93%e5%86%b2%e6%b1%a0%e5%a6%82%e4%bd%95%e8%af%bb%e5%8f%96%e6%95%b0%e6%8d%ae" aria-label="3.3 缓冲池如何读取数据">3.3 缓冲池如何读取数据</a></li>
                <li>
                    <a href="#%e9%87%8d%e7%82%b9%e5%9b%9e%e9%a1%be" aria-label="重点回顾">重点回顾</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#5-%e5%ad%98%e5%82%a8%e5%bc%95%e6%93%8e" aria-label="5. 存储引擎">5. 存储引擎</a><ul>
                        
                <li>
                    <a href="#%e6%9f%a5%e7%9c%8b%e5%ad%98%e5%82%a8%e5%bc%95%e6%93%8e" aria-label="查看存储引擎">查看存储引擎</a></li>
                <li>
                    <a href="#%e5%bc%95%e6%93%8e%e4%bb%8b%e7%bb%8d" aria-label="引擎介绍">引擎介绍</a><ul>
                        
                <li>
                    <a href="#innodb%e5%bc%95%e6%93%8e" aria-label="InnoDB引擎">InnoDB引擎</a></li>
                <li>
                    <a href="#myisam%e5%bc%95%e6%93%8e" aria-label="MyISAM引擎">MyISAM引擎</a></li>
                <li>
                    <a href="#%e5%8c%ba%e5%88%ab" aria-label="区别">区别</a></li></ul>
                </li>
                <li>
                    <a href="#archive%e5%bc%95%e6%93%8e%e7%94%a8%e4%ba%8e%e6%95%b0%e6%8d%ae%e5%ad%98%e6%a1%a3" aria-label="Archive引擎：用于数据存档">Archive引擎：用于数据存档</a></li>
                <li>
                    <a href="#blackhole%e5%bc%95%e6%93%8e%e4%b8%a2%e5%bc%83%e5%86%99%e6%93%8d%e4%bd%9c%e8%af%bb%e6%93%8d%e4%bd%9c%e8%bf%94%e5%9b%9e%e7%a9%ba%e5%86%85%e5%ae%b9" aria-label="Blackhole引擎：丢弃写操作，读操作返回空内容">Blackhole引擎：丢弃写操作，读操作返回空内容</a></li>
                <li>
                    <a href="#csv%e5%bc%95%e6%93%8e%e5%ad%98%e5%82%a8%e6%95%b0%e6%8d%ae%e4%bb%a5%e9%80%97%e5%8f%b7%e5%88%86%e9%9a%94%e5%90%84%e4%b8%aa%e6%95%b0%e6%8d%ae%e9%a1%b9" aria-label="CSV引擎：存储数据，以逗号分隔各个数据项">CSV引擎：存储数据，以逗号分隔各个数据项</a></li>
                <li>
                    <a href="#memory-%e5%bc%95%e6%93%8e%e7%bd%ae%e4%ba%8e%e5%86%85%e5%ad%98%e4%b8%ad%e7%9a%84%e8%a1%a8" aria-label="Memory 引擎：置于内存中的表">Memory 引擎：置于内存中的表</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        if (elements) {
            activeElement = Array.from(elements).find((element) => {
                if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                    (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                    return element;
                }
            }) || activeElement

            elements.forEach(element => {
                const id = encodeURI(element.getAttribute('id')).toLowerCase();
                if (element === activeElement){
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
                } else {
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
                }
            })
        }
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        <div class="post-content"><h1 id="1-linux环境安装mysql">1. Linux环境安装MySQL<a hidden class="anchor" aria-hidden="true" href="#1-linux环境安装mysql">#</a></h1>
<p>略&hellip;</p>
<h1 id="2-mysql数据目录">2. MySQL数据目录<a hidden class="anchor" aria-hidden="true" href="#2-mysql数据目录">#</a></h1>
<p>举例：数据库A，表a</p>
<ol>
<li>如果表a采用<code>InnoDB</code>，<code>data\A</code>中会产生一个或两个文件
<ul>
<li><code>a.frm</code>(5.7特有)：描述表结构，字段长度等</li>
<li>如果采用<font color="red">系统表空间</font>模式，数据信息和索引信息储存在<code>ibdata1</code>中</li>
<li>如果采用<font color="red">独立表空间</font>模式，<code>data\A</code>中会产生<code>a.ibd</code>文件，储存数据信息和索引信息。</li>
</ul>
<blockquote>
<p>此外：</p>
<ol>
<li>MySQL5.7会在<code>data\A</code>目录下生成<code>db.opt</code>用于保存数据库相关配置，如字符集、比较规则，而MySQL8.0不再提供。</li>
<li>MySQL不再单独提供<code>a.frm</code>文件，而是合并在<code>a.ibd</code>中</li>
</ol>
</blockquote>
</li>
<li>如果表a采用<code>MyISAM</code>，<code>data\A</code>中会产生3个文件
<ul>
<li>MySQL5.7中，<code>a.frm</code>：描述表结构，字段长度等<br>
MySQL8.0中，<code>a.XXX.sdi</code>：描述表结构，字段长度等</li>
<li><code>a.MYD</code>（MyData）：数据文件信息，储存数据信息（采用独立表存储模式）</li>
<li><code>a.MYI</code>（MyIndex）：存放索引信息文件</li>
</ul>
</li>
</ol>
<h1 id="3-用户与权限管理">3. 用户与权限管理<a hidden class="anchor" aria-hidden="true" href="#3-用户与权限管理">#</a></h1>
<h2 id="1-用户管理">1. 用户管理<a hidden class="anchor" aria-hidden="true" href="#1-用户管理">#</a></h2>
<p>MySQL分为普通用户和root用户。<br>
提供了许多语句来管理用户账号。<br>
MySQL数据库的安全性需要通过用户管理实现。</p>
<h3 id="11-登录用户">1.1 登录用户<a hidden class="anchor" aria-hidden="true" href="#11-登录用户">#</a></h3>
<h3 id="12-创建用户">1.2 创建用户<a hidden class="anchor" aria-hidden="true" href="#12-创建用户">#</a></h3>
<h3 id="13-修改用户">1.3 修改用户<a hidden class="anchor" aria-hidden="true" href="#13-修改用户">#</a></h3>
<h3 id="13-修改用户-1">1.3 修改用户<a hidden class="anchor" aria-hidden="true" href="#13-修改用户-1">#</a></h3>
<h3 id="14-删除用户">1.4 删除用户<a hidden class="anchor" aria-hidden="true" href="#14-删除用户">#</a></h3>
<h3 id="15-设置密码">1.5 设置密码<a hidden class="anchor" aria-hidden="true" href="#15-设置密码">#</a></h3>
<h2 id="权限管理">权限管理<a hidden class="anchor" aria-hidden="true" href="#权限管理">#</a></h2>
<ol>
<li>表权限</li>
<li>列权限</li>
<li>过程权限</li>
</ol>
<h3 id="权限授予原则">权限授予原则<a hidden class="anchor" aria-hidden="true" href="#权限授予原则">#</a></h3>
<ol>
<li>满足需求的最小权限</li>
<li>限制登录主机</li>
<li>设置密码</li>
<li>定期清理不需要的用户</li>
</ol>
<h3 id="授予权限">授予权限<a hidden class="anchor" aria-hidden="true" href="#授予权限">#</a></h3>
<p>MySQL如何实现权限控制</p>
<ol>
<li>权限表</li>
</ol>
<h1 id="4-逻辑架构">4. 逻辑架构<a hidden class="anchor" aria-hidden="true" href="#4-逻辑架构">#</a></h1>
<h2 id="1-逻辑架构">1. 逻辑架构<a hidden class="anchor" aria-hidden="true" href="#1-逻辑架构">#</a></h2>
<h3 id="11-服务器处理客户端请求">1.1 服务器处理客户端请求<a hidden class="anchor" aria-hidden="true" href="#11-服务器处理客户端请求">#</a></h3>
<p>Mysql是典型的C/S架构，<code>Clinet/Server 架构</code>，服务端使用的是<code>mysqld</code>。</p>
<p>实现效果：客户端向服务端发送sql语句，服务端进程处理后向客户端返回处理结果。<br>
<img loading="lazy" src="%e6%9e%b6%e6%9e%84%e7%af%87img/%e6%95%b4%e4%bd%93%e6%b5%81%e7%a8%8b%e5%9b%be.png" alt="整体流程图"  />

具体展开图:<br>
<img loading="lazy" src="%e6%9e%b6%e6%9e%84%e7%af%87img/%e7%bb%8f%e5%85%b8%e6%9e%b6%e6%9e%84%e5%9b%be.png" alt="具体展开图"  />
</p>
<h3 id="12-connectors-连接器">1.2 Connectors 连接器<a hidden class="anchor" aria-hidden="true" href="#12-connectors-连接器">#</a></h3>
<h3 id="13-第一层连接层">1.3 第一层：连接层<a hidden class="anchor" aria-hidden="true" href="#13-第一层连接层">#</a></h3>
<h3 id="14-第二层服务层">1.4 第二层：服务层<a hidden class="anchor" aria-hidden="true" href="#14-第二层服务层">#</a></h3>
<h3 id="15-第三层引擎层">1.5 第三层：引擎层<a hidden class="anchor" aria-hidden="true" href="#15-第三层引擎层">#</a></h3>
<h3 id="16-存储层">1.6 存储层<a hidden class="anchor" aria-hidden="true" href="#16-存储层">#</a></h3>
<h2 id="2-sql执行流程">2. SQL执行流程<a hidden class="anchor" aria-hidden="true" href="#2-sql执行流程">#</a></h2>
<h3 id="21-mysql-中的sql执行流程">2.1 MySQL 中的SQL执行流程<a hidden class="anchor" aria-hidden="true" href="#21-mysql-中的sql执行流程">#</a></h3>
<ol>
<li>查询缓存</li>
</ol>
<blockquote>
<p>8.0 舍弃，缓存命中率很低，需要sql完全一样才能命中，如空格等，也不行
对数据库进行增删改查的时候，存在缓存失效问题，需要从缓存中删除，更新压力大</p>
</blockquote>
<ol start="2">
<li>解析器</li>
</ol>
<ul>
<li>词法分析</li>
<li>语法分析</li>
<li>生成语法树</li>
</ul>
<ol start="3">
<li>优化器<br>
在优化器中会确定 SQL 语句的执行路径，比如是根据<strong>全表检索</strong> ，还是根据<strong>索引检索</strong>等</li>
</ol>
<ul>
<li>物理查询优化：索引表连接优化</li>
<li>逻辑查询优化：语法逻辑优化</li>
<li>生成执行计划</li>
</ul>
<ol start="4">
<li>执行器<br>
执行器执行 执行计划</li>
</ol>
<h2 id="3-数据库缓冲池buffer-pool">3. 数据库缓冲池(buffer pool)<a hidden class="anchor" aria-hidden="true" href="#3-数据库缓冲池buffer-pool">#</a></h2>
<p>内存级别的缓存，占用内存作为数据缓冲池</p>
<h3 id="31-缓冲池-vs-查询缓存">3.1 缓冲池 vs 查询缓存<a hidden class="anchor" aria-hidden="true" href="#31-缓冲池-vs-查询缓存">#</a></h3>
<p>缓冲池和查询缓存是一个东西吗？不是。</p>
<h3 id="32-缓冲池">3.2 缓冲池<a hidden class="anchor" aria-hidden="true" href="#32-缓冲池">#</a></h3>
<h4 id="缓存原则">缓存原则<a hidden class="anchor" aria-hidden="true" href="#缓存原则">#</a></h4>
<p><strong>位置 * 频次</strong>原则</p>
<p>优先对使用频次高的热数据进行加载</p>
<h3 id="33-缓冲池如何读取数据">3.3 缓冲池如何读取数据<a hidden class="anchor" aria-hidden="true" href="#33-缓冲池如何读取数据">#</a></h3>
<h3 id="重点回顾">重点回顾<a hidden class="anchor" aria-hidden="true" href="#重点回顾">#</a></h3>
<h1 id="5-存储引擎">5. 存储引擎<a hidden class="anchor" aria-hidden="true" href="#5-存储引擎">#</a></h1>
<p>简而言之，存储引擎就是表的类型。它的功能：接收上层传下来的指令，然后对表中的数据进行提取或写入操作。</p>
<h2 id="查看存储引擎">查看存储引擎<a hidden class="anchor" aria-hidden="true" href="#查看存储引擎">#</a></h2>
<ul>
<li>命令：<code>show engines;</code></li>
</ul>
<h2 id="引擎介绍">引擎介绍<a hidden class="anchor" aria-hidden="true" href="#引擎介绍">#</a></h2>
<h3 id="innodb引擎">InnoDB引擎<a hidden class="anchor" aria-hidden="true" href="#innodb引擎">#</a></h3>
<ul>
<li>MySQL 5.5 以后默认采用</li>
<li>优点：
<ul>
<li>具备外键支持功能的事务存储引擎</li>
<li>事务性引擎，确保事务的完整提交和回滚</li>
<li>除了增加和查询外，还要更新、删除操作，优先InnoDB</li>
<li>支持行级锁，只对单条数据加锁而不是整张表</li>
</ul>
</li>
<li>缺点：
<ul>
<li>写的效率较差</li>
<li>对内存要求较高：.ibd文件<strong>索引即数据</strong>需全部加载，MyISAM索引和数据分开，只要加载索引。</li>
</ul>
</li>
</ul>
<h3 id="myisam引擎">MyISAM引擎<a hidden class="anchor" aria-hidden="true" href="#myisam引擎">#</a></h3>
<ul>
<li>不支持事务：崩溃后无法安全恢复</li>
<li>不支持外键</li>
<li>不支持行级锁</li>
<li>优点
<ul>
<li>访问速度快</li>
<li>针对数据统计有常数存储</li>
</ul>
</li>
</ul>
<h3 id="区别">区别<a hidden class="anchor" aria-hidden="true" href="#区别">#</a></h3>
<ul>
<li>外键</li>
<li>事务</li>
<li>行级锁</li>
<li>缓存</li>
<li>自带系统表使用</li>
<li>关注点  性能：节省资源、消耗少、简单业务    事务：并发写、事务、更大资源</li>
<li>默认安装</li>
<li>默认使用</li>
</ul>
<h2 id="archive引擎用于数据存档">Archive引擎：用于数据存档<a hidden class="anchor" aria-hidden="true" href="#archive引擎用于数据存档">#</a></h2>
<ul>
<li>仅支持<strong>插入和查询</strong>，无法修改删除</li>
<li>MySQL 5.5 以后<strong>支持索引</strong></li>
<li>拥有很好的压缩机制，使用<strong>zlib压缩库</strong></li>
<li>采用行级锁</li>
<li>适合日志和数据采集（归档）类应用</li>
</ul>
<h2 id="blackhole引擎丢弃写操作读操作返回空内容">Blackhole引擎：丢弃写操作，读操作返回空内容<a hidden class="anchor" aria-hidden="true" href="#blackhole引擎丢弃写操作读操作返回空内容">#</a></h2>
<h2 id="csv引擎存储数据以逗号分隔各个数据项">CSV引擎：存储数据，以逗号分隔各个数据项<a hidden class="anchor" aria-hidden="true" href="#csv引擎存储数据以逗号分隔各个数据项">#</a></h2>
<h2 id="memory-引擎置于内存中的表">Memory 引擎：置于内存中的表<a hidden class="anchor" aria-hidden="true" href="#memory-引擎置于内存中的表">#</a></h2>
<p>媒介时内存，响应速度快，但是mysql守护进程崩溃时数据会丢失</p>
<p>特征：</p>
<ul>
<li>同时支持哈希索引和B+索引</li>
</ul>


        </div>

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="https://zhoujze.github.io/en/posts/read/read/">
    <span class="title">« 上一页</span>
    <br>
    <span>Read</span>
  </a>
  <a class="next" href="https://zhoujze.github.io/en/posts/mysql/02-mysql%E7%B4%A2%E5%BC%95%E8%B0%83%E4%BC%98%E7%AF%87/">
    <span class="title">下一页 »</span>
    <br>
    <span></span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share  on twitter"
       href="https://twitter.com/intent/tweet/?text=&amp;url=https%3a%2f%2fzhoujze.github.io%2fen%2fposts%2fmysql%2f01-mysql%25E6%259E%25B6%25E6%259E%2584%25E7%25AF%2587%2f&amp;hashtags=">
    <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  on linkedin"
       href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fzhoujze.github.io%2fen%2fposts%2fmysql%2f01-mysql%25E6%259E%25B6%25E6%259E%2584%25E7%25AF%2587%2f&amp;title=&amp;summary=&amp;source=https%3a%2f%2fzhoujze.github.io%2fen%2fposts%2fmysql%2f01-mysql%25E6%259E%25B6%25E6%259E%2584%25E7%25AF%2587%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  on reddit"
       href="https://reddit.com/submit?url=https%3a%2f%2fzhoujze.github.io%2fen%2fposts%2fmysql%2f01-mysql%25E6%259E%25B6%25E6%259E%2584%25E7%25AF%2587%2f&title=">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  on facebook"
       href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fzhoujze.github.io%2fen%2fposts%2fmysql%2f01-mysql%25E6%259E%25B6%25E6%259E%2584%25E7%25AF%2587%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  on whatsapp"
       href="https://api.whatsapp.com/send?text=%20-%20https%3a%2f%2fzhoujze.github.io%2fen%2fposts%2fmysql%2f01-mysql%25E6%259E%25B6%25E6%259E%2584%25E7%25AF%2587%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  on telegram"
       href="https://telegram.me/share/url?text=&amp;url=https%3a%2f%2fzhoujze.github.io%2fen%2fposts%2fmysql%2f01-mysql%25E6%259E%25B6%25E6%259E%2584%25E7%25AF%2587%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

        </footer>
    </div>

<style>
    .comments_details summary::marker {
        font-size: 20px;
        content: '👉展开评论';
        color: var(--content);
    }
    .comments_details[open] summary::marker{
        font-size: 20px;
        content: '👇关闭评论';
        color: var(--content);
    }
</style>


<div>
    
    <script src="https://cdn.staticfile.org/twikoo/1.4.11/twikoo.all.min.js">
    </script>
    <script>
        twikoo.init({
            envId:  null ,
        el: "#tcomment",
            lang: 'zh-CN',
            region:  null ,
        path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
        })
    </script>
</div>
</article>
</main>

<footer class="footer">
    <span>
        Copyright
        &copy;
        2023-2023
        <a href="https://zhoujze.github.io/en/" style="color:#939393;">ZhouJz&#39;s blog</a>
        All Rights Reserved
    </span>
    <a href="https://beian.miit.gov.cn/" target="_blank" style="color:#939393;"></a>&nbsp;
    <span>
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null"
           style="display:inline-block;text-decoration:none;height:20px;color:#939393;">
            <img src="" style="float:left;margin: 0px 5px 0px 0px;"/>
            
        </a>
    </span>
    <span id="busuanzi_container">
        <span class="fa fa-user"></span> <span id="busuanzi_value_site_uv"></span>
        <span class="fa fa-eye"></span> <span id="busuanzi_value_site_pv"></span>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });
</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        (function() {
            document.cookie = "change-themes" + "="+ escape ("false");
        })()

        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    });
</script>

<script>
    document.body.addEventListener('copy', function (e) {
        if (window.getSelection().toString() && window.getSelection().toString().length > 50) {
            let clipboardData = e.clipboardData || window.clipboardData;
            if (clipboardData) {
                e.preventDefault();
                let htmlData = window.getSelection().toString() +
                    '\r\n\n————————————————\r\n' +
                    '版权声明：本文为「'+"ZhouJz's blog"+'」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。' +
                '\r\n原文链接：' + location.href;
                let textData = window.getSelection().toString() +
                    '\r\n\n————————————————\r\n' +
                    '版权声明：本文为「'+"ZhouJz's blog"+'」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。' +
                '\r\n原文链接：' + location.href;
                clipboardData.setData('text/html', htmlData);
                clipboardData.setData('text/plain', textData);
            }
        }
    });
</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;
        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = '📄复制';

        function copyingDone() {
            copybutton.innerText = '👌🏻已复制!';
            setTimeout(() => {
                copybutton.innerText = '📄复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                let text = codeblock.textContent +
                    '\r\n————————————————\r\n' +
                    '版权声明：本文为「'+"ZhouJz's blog"+'」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。' +
                '\r\n原文链接：' + location.href;
                navigator.clipboard.writeText(text);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {}
            selection.removeRange(range);
        });

        let language = codeblock.className.replaceAll("language-", "")
        let macTool = document.createElement("div")
        let macTool1 = document.createElement("div")
        let macTool2 = document.createElement("div")
        let macTool3 = document.createElement("div")
        let languageType = document.createElement("div")
        languageType.innerText = language
        macTool.setAttribute('class', 'mac-tool')
        macTool1.setAttribute('class', 'mac bb1')
        macTool2.setAttribute('class', 'mac bb2')
        macTool3.setAttribute('class', 'mac bb3')
        languageType.setAttribute('class', 'language-type')
        macTool.appendChild(macTool1)
        macTool.appendChild(macTool2)
        macTool.appendChild(macTool3)
        macTool.appendChild(languageType)

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
            container.appendChild(macTool)
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        }
    });
</script>
</body>

</html>
